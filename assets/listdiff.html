<!DOCTYPE html>
<html>
<head>
  <title>Text Links Diff</title>
  <!-- Include required libraries -->
 <link href="/assets/css/bootstrap.5.3.1.min.css" rel="stylesheet" />
  <link href="/assets/css/extrastyles.css" rel="stylesheet" />
<script src="/assets/js/jquery-3.7.0.min.js"></script>
<link href="/assets/css/paliLookup.css" rel="stylesheet" />

 <script src="/assets/js/bootstrap.bundle.5.3.1.min.js"></script>
  <link rel="icon" type="image/png" href="/assets/img/favico-noglass.png" />


  <style>
    /* Mobile Styles */
    @media only screen and (max-width: 768px) {
      .container {
        padding: 10px;
      }
      .form-label {
        display: block;
        margin-bottom: 5px;
      }
      .form-control {
        width: 100%;
        margin-bottom: 10px;
      }
      .form-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container mt-5">
 <div class="toggle-switch input-group-append">
    <div id="" class="input-group">
        <a href="../../read.php" title="Sutta and Vinaya reading" rel="noreferrer" class="me-1">
<svg fill="#979797" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="26px" viewBox="0 0 547.596 547.596" xml:space="preserve" stroke="#979797"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="3.285576"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M540.76,254.788L294.506,38.216c-11.475-10.098-30.064-10.098-41.386,0L6.943,254.788 c-11.475,10.098-8.415,18.284,6.885,18.284h75.964v221.773c0,12.087,9.945,22.108,22.108,22.108h92.947V371.067 c0-12.087,9.945-22.108,22.109-22.108h93.865c12.239,0,22.108,9.792,22.108,22.108v145.886h92.947 c12.24,0,22.108-9.945,22.108-22.108v-221.85h75.965C549.021,272.995,552.081,264.886,540.76,254.788z"></path> </g> </g></svg>
        </a>

        <a href="../../" title="Sutta and Vinaya search" rel="noreferrer" class="me-1">
            <img width="24px" alt="dhamma.gift icon" src="/assets/img/gray-white.png">
        </a>
<a title="Всплывающий по клику словарь (Alt+A)" class="common-size-icon4 toggle-dict-btn text-decoration-none text-black">  <img src="/assets/svg/comment.svg" alt="Всплывающий по клику словарь" class="dictIcon"></img></a>

        <div class="ms-1 form-check form-switch">
            <input type="checkbox" class="form-check-input" id="darkSwitch">
        </div>
    </div>
</div>

    <h2>Show Difference Between Two Lists</h2><br>
    <p>
</p>

<form id="textLinksForm">
  <div class="row">
    <div class="mb-3 col-md-6">
<div class="form-label">
  <label for="string1" class="form-label d-inline">List of Links or Words 1:</label>
  <a href="#result1" class="ms-1" style="color: royalblue; font-weight: bold; text-decoration: underline;">(Blue)</a>
</div>
      <textarea class="form-control" id="string1" name="string1" rows="6" placeholder="e.g. sn56.11 dn22 sn12.2" required></textarea>
    </div>
    <div class="mb-3 col-md-6">
<div class="form-label">
  <label for="string2" class="form-label d-inline">List of Links or Words 2:</label>
  <a href="#result2" class="ms-1" style="color: firebrick; font-weight: bold; text-decoration: underline;">(Red)</a>
</div>
      <textarea class="form-control" id="string2" name="string2" rows="6" placeholder="e.g. sn56.11 dn22" required></textarea>
    </div>
  </div>

      <div class="form-buttons">
        <button type="submit" class="btn btn-primary">Submit</button>
        <button type="button" class="btn btn-secondary" id="clearFormBtn">Clear Form</button>
      </div>
    </form>

    <div id="result" class="mt-4"></div>
  </div>
<div class="toggle-switch">


</div>
	
  <script>
    // Handle form submission
    document.getElementById('textLinksForm').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent form submission
      processForm();
    });

    // Handle clear form button click
    document.getElementById('clearFormBtn').addEventListener('click', function() {
      clearForm();
    });

  function processForm() {
    // Get the input values
    var string1 = document.getElementById('string1').value.trim();
    var string2 = document.getElementById('string2').value.trim();

    // Remove prefixes before colon if present
    if (string1.includes(":")) {
      string1 = string1.substring(string1.indexOf(":") + 1).trim();
    }
    if (string2.includes(":")) {
      string2 = string2.substring(string2.indexOf(":") + 1).trim();
    }

    // Remove trailing numbers like " (23)"
    string1 = string1.replace(/ \(\d+\)$/, '');
    string2 = string2.replace(/ \(\d+\)$/, '');

    // Explode into arrays
    var array1 = string1.split(/\s+/);
    var array2 = string2.split(/\s+/);

    // Differences
    var onlyIn1 = array1.filter(value => !array2.includes(value));
    var onlyIn2 = array2.filter(value => !array1.includes(value));

    // Generate result HTML
  let result = '<div class="row">';

if (onlyIn1.length > 0) {
  result += `
  <div class="col-md-6 mb-3" id="result1">
    <span style="font-weight: bold; color: royalblue;">Only in List 1:</span><br>
  <div style="color: royalblue;">
  ${onlyIn1.map(word => `<div class="pli-lang" lang="pi">${word}</div>`).join("")}
</div>
  </div>
`;

}

if (onlyIn2.length > 0) {
 result += `
  <div class="col-md-6 mb-3" id="result2">
    <span style="font-weight: bold; color: firebrick;">Only in List 2:</span><br>
  <div  style="color: firebrick;">
  ${onlyIn2.map(word => `<div class="pli-lang" lang="pi">${word}</div>`).join("")}
</div>

  </div>
`;

}

result += '</div>';

if (onlyIn1.length === 0 && onlyIn2.length === 0) {
  result = `<div><span style="color: green; font-weight: bold;">No differences found.</span></div>`;
}


    if (onlyIn1.length === 0 && onlyIn2.length === 0) {
      result = `<div><span style="color: green; font-weight: bold;">No differences found.</span></div>`;
    }

    document.getElementById('result').innerHTML = result;

    document.getElementById('result').scrollIntoView({ behavior: 'smooth' });

  }

    function clearForm() {
      document.getElementById('textLinksForm').reset();
      document.getElementById('result').innerHTML = "";
    }
  </script>
  <script src="/assets/js/dark-mode-switch/dark-mode-switch.js"></script>
<script src="/assets/js/paliLookup.js"></script>

</body>
</html>


